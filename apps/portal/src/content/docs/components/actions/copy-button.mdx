---
title: Copy Button
description: CopyButton component documentation
beta: true
---

The `CopyButton` component provides a button that copies text to the clipboard when clicked. It includes visual feedback to indicate when the text has been copied successfully. The `name` prop can be a string or a function that returns a string, allowing for dynamic text generation.

import { DocsPage } from "@/components/docs-page";

<DocsPage.ComponentExample
  client:only
  code={`<CopyButton name="Text to copy" />`}
/>

## Copy Button with Function Callback

Below are examples showing how to use a function callback for dynamic text generation, including both success and error cases:

<DocsPage.ComponentExample client:only code={`() => {
  const [copyCount, setCopyCount] = React.useState(0);
  const [shouldError, setShouldError] = React.useState(false);

const getTextToCopy = () => {
if (shouldError) {
throw new Error('Failed to retrieve text - simulated error');
}
setCopyCount((prev) => prev + 1);
return \`Copied \${copyCount + 1} times - Timestamp: \${Date.now()}\`;
};

const getErrorText = () => {
throw new Error('This operation is not allowed');
};

return (

<div className="flex flex-col gap-cn-xl min-w-[400px]">
  <div className="mb-cn-xs w-full font-bold mt-cn-xl">Success Case:</div>
  <div className="flex items-center gap-cn-md">
    <CopyButton name={getTextToCopy} />
    <span className="text-cn-size-2">Click to copy dynamic text (copied {copyCount} times)</span>
  </div>

<div className="mb-cn-xs w-full font-bold mt-cn-xl">Error Case:</div>
<div className="flex items-center gap-cn-md">
  <CopyButton name={getErrorText} />
  <span className="text-cn-size-2">Click to see error toast notification</span>
</div>

  <div className="mb-cn-xs w-full font-bold mt-cn-xl">Toggle Error State:</div>
  <div className="flex items-center gap-cn-md">
    <CopyButton name={getTextToCopy} />
    <label className="flex items-center gap-cn-xs cursor-pointer">
      <input 
        type="checkbox" 
        checked={shouldError} 
        onChange={(e) => setShouldError(e.target.checked)}
        className="cursor-pointer"
      />
      <span className="text-cn-size-2">Simulate error on copy</span>
    </label>
  </div>
</div>
) }`} />

## Usage

### Basic Usage

```typescript jsx
import { CopyButton } from '@harnessio/ui/components'

return (
  <CopyButton name="Text to copy" />
)
```

### Using Function Callback (Success Case)

You can pass a function to `name` that returns the text to copy. This is useful when the text needs to be computed dynamically:

```typescript jsx
import { CopyButton } from '@harnessio/ui/components'

const getTextToCopy = () => {
  // Compute or retrieve the text dynamically
  return `Current timestamp: ${Date.now()}`
}

return (
  <CopyButton name={getTextToCopy} />
)
```

### Using Function Callback (Error Handling)

If the function throws an error, a toast notification will be displayed to the user:

```typescript jsx
import { CopyButton } from '@harnessio/ui/components'

const getTextToCopy = () => {
  // This might throw an error in some cases
  if (someCondition) {
    throw new Error('Failed to retrieve text')
  }
  return 'Text to copy'
}

return (
  <CopyButton name={getTextToCopy} />
)
```

When an error occurs, a toast with the title "Failed to copy" and the error message will be shown to the user.

## API Reference

<DocsPage.PropsTable
  props={[
    {
      name: "name",
      description:
        "The text to be copied to the clipboard. Can be a string or a function that returns a string. If a function is provided, it will be called when the button is clicked. If the function throws an error, a toast notification will be displayed.",
      required: true,
      value: "string | (() => string)",
    },
    {
      name: "className",
      description: "Additional class names to apply to the button",
      required: false,
      value: "string",
    },
    {
      name: "buttonVariant",
      description: "Variant of the button",
      required: false,
      value: "ButtonProps['variant']",
      defaultValue: "'custom'",
    },
    {
      name: "iconSize",
      description: "Size of the icon",
      required: false,
      value: "'md' | 'xs' | 'sm' | '2xs' | 'lg' | 'xl'",
      defaultValue: "'sm'",
    },
    {
      name: "onClick",
      description: "Function to handle click event",
      required: false,
      value: "(e: MouseEvent) => void",
    },
    {
      name: "color",
      description: "Color variant of the icon",
      required: false,
      value: "'gray' | 'white' | 'success'",
      defaultValue: "'white'",
    },
  ]}
/>
