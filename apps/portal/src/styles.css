body {
  @apply text-cn-2 text-cn-size-3 overscroll-none !important;
  -webkit-font-smoothing: auto;
  -moz-osx-font-smoothing: auto;
  font-smooth: auto;
}

main {
  @apply px-0 py-cn-3xl w-full !important;
}

.sl-container :is(h1):not(:where(.not-content *)) {
  @apply text-cn-size-8 font-normal text-cn-1;
}

.sl-container :is(h2):not(:where(.not-content *)) {
  @apply text-cn-size-7 font-normal text-cn-1;
}

.sl-container :is(h3):not(:where(.not-content *)) {
  @apply text-cn-size-6 font-normal text-cn-1;
}

code {
  @apply bg-cn-gray-secondary !important;
}

.content-panel {
  @apply px-0 pb-0 m-0 border-none !important;
}

/* Line numbers for LiveEditor */
.line-numbers .prism-code {
  counter-reset: line-number;
}

.line-numbers .token-line::before {
  counter-increment: line-number;
  content: counter(line-number);
  display: inline-block;
  text-align: right;
  margin-right: 1rem;
  min-width: 2rem;
  opacity: 0.3;
  user-select: none;
}

/* Global sidebar style overrides */

.sidebar {
  @apply p-0;
}

.cn-portal-sidebar {
  details {
    @apply border-b border-cn-3 py-cn-lg;

    ul {
      @apply pl-cn-md;
    }

    li {
      @apply border-l border-cn-3 pl-0;

      a {
        @apply pl-cn-sm py-cn-2xs text-cn-3 hover:text-cn-1;

        &[aria-current="page"] {
          @apply bg-cn-1 text-cn-1;
        }
      }
    }

    &[open] > summary {
      @apply pb-cn-xs;
    }
  }

  details details {
    @apply border-b-0 py-0;

    summary {
      @apply py-cn-3xs;

      .group-label {
        span {
          @apply font-heading-small;
        }
      }
    }

    &[open] > summary {
      @apply pb-cn-3xs;
    }
  }

  summary {
    @apply flex items-center py-0 px-cn-sm;

    .group-label {
      span {
        @apply font-heading-base text-cn-1;
      }
    }
  }

  ul {
    @apply w-full;
  }

  li {
    @apply !m-0;
  }
}

#starlight__on-this-page {
  @apply font-heading-base text-cn-1;
}

mobile-starlight-toc {
  display: none;
}

ul.top-level summary svg {
  @apply font-normal text-cn-disabled text-cn-size-4;
}

/* Right-hand page sidebar overrides */

.right-sidebar-panel {
  @apply px-cn-sm pl-0 py-cn-xl pt-cn-3xl;

  .sl-container {
    @apply w-full;
  }
}

.right-sidebar-panel h2 {
  @apply font-normal text-cn-2 text-cn-size-2;
}

.right-sidebar-panel ul {
  @apply m-0 p-0 flex flex-col gap-cn-sm mt-cn-md;
}

.right-sidebar-panel li a {
  @apply m-0 p-0 text-cn-3;
}

.right-sidebar-panel li ul {
  @apply pl-cn-sm ml-cn-3xs border-l border-cn-3;
}

/* Search override */

[aria-label="Search"] {
  @apply bg-cn-3 border border-cn-3 rounded-cn-3 h-[36px] !important;
}

[aria-label="Search"] > kbd:first-of-type {
  @apply bg-cn-2 border border-cn-2 !important;
}

/* Code/Preview override */

.expressive-code pre {
  @apply rounded-cn-3 overflow-hidden border border-cn-3 bg-cn-3 !important;
}

.expressive-code .frame {
  box-shadow: none !important;
}

.expressive-code pre > code {
  overflow-x: auto !important;
}

pre.prism-code {
  @apply overflow-hidden bg-cn-2 !important;
}

/* Pagination overrides */

.pagination-links a {
  @apply border border-cn-3 rounded-cn-3 text-cn-size-2 text-cn-3;
}

.pagination-links a .link-title {
  @apply text-cn-size-4 leading-tight;
}

@media (prefers-reduced-motion: no-preference) {
  @view-transition {
    navigation: auto;
  }
}

.example-expand {
  .disclosure-icon {
    display: none;
  }

  &[open] .disclosure-icon {
    transform: rotate(90deg);
  }

  @supports selector(summary::marker) {
    summary::-webkit-details-marker,
    summary::marker {
      content: "";
      display: none;
    }

    .disclosure-icon {
      display: block;
    }
  }
}
