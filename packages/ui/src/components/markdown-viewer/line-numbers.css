/* Line numbers for code blocks */
.line-numbers {
  position: relative;
  padding: 0;
  margin: 0;
  background: transparent;
}

/* Container for line numbers and code */
.code-with-line-numbers {
  position: relative;
  width: 100%;
  display: flex; /* Changed to flex for better alignment */
  background: transparent;
}

/* Line numbers column */
.line-numbers-rows {
  flex: 0 0 3em; /* Wider gutter width for larger numbers */
  text-align: right;
  user-select: none;
  padding: 0.5em 0; /* Add vertical padding */
  background: rgba(0, 0, 0, 0.15);
}

/* Individual line number */
.line-numbers-rows span {
  display: block;
  padding: 0 0.75em 0 0; /* More right padding */
  color: var(--text-foreground-7);
  font-size: 14px; /* Increased font size to 14px */
  line-height: 1.5em;
}

/* Code content */
.code-content {
  flex: 1;
  padding: 0.5em 0 0.5em 1em; /* Match vertical padding with line numbers and increase left padding */
  overflow: hidden;
  position: relative;
  background: transparent;
}

/* Code inside code content */
.code-content pre {
  margin: 0 !important;
  padding: 0 !important;
  background: transparent !important;
  border: none !important;
  line-height: 1.5em !important;
  font-size: 14px !important; /* Match font size with line numbers */
  font-family: 'JetBrains Mono', monospace !important;
}

/* Make code fit better with line numbers */
.code-content code {
  line-height: 1.5em !important;
  font-size: 14px !important; /* Match font size with line numbers */
  padding: 0 !important;
}

/* To override any other styles */
.code-content > * {
  margin: 0 !important;
  background: transparent !important;
}

/* Fix for nested pre elements */
.line-numbers pre {
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  margin: 0 !important;
  line-height: 1.5em !important;
}

/* Ensure regular code blocks still have padding */
pre:not(.line-numbers) {
  padding: 16px !important;
}

/* Ensure code blocks have proper text coloring */
.line-numbers code {
  color: inherit !important;
  line-height: 1.5em !important;
}

/* Override padding/margins only for line numbered code blocks */
.wmde-markdown pre.line-numbers {
  padding: 0 !important;
  margin: 0 !important;
}

/* Restore padding for regular code blocks */
.wmde-markdown pre:not(.line-numbers) {
  padding: 16px !important;
  margin: 1em 0 !important;
}

/* Remove border-spacing and adjust overall layout */
.line-numbers > pre {
  padding: 0 !important;
  margin: 0 !important;
}

/* Ensure line numbers have proper spacing */
.wmde-markdown pre.line-numbers {
  margin: 0 !important;
  padding: 0 !important;
}

/* Make sure there's no unexpected line height issues */
.wmde-markdown pre code {
  line-height: 1.5em !important;
  padding: 0 !important;
}

/* Ensure proper indentation for nested content */
.code-content > pre > code {
  margin: 0 !important;
  padding: 0 !important;
  text-indent: 0 !important;
}

/* Fix for multi-line code blocks */
.line-numbers .token-line {
  line-height: 1.5em !important;
}
